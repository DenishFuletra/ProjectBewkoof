<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login page</title>
    <link rel="stylesheet" href="Navbar.css">
    <!-- // icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
        integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- ?fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Eczar:wght@400;500;600;800&family=Gentium+Book+Plus:ital,wght@0,400;0,700;1,400;1,700&family=Poppins:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,500;1,600;1,800&family=Roboto+Slab:wght@200;400;600;800;900&family=Splash&family=Yantramanav:wght@400;500;900&display=swap"
        rel="stylesheet">
</head>

<body>

    <!--  navigation starts from here -->
    <div class="navbar">



        <div class="navigation-links">

            <div class="logo">
                <img src="https://images.bewakoof.com/web/ic-desktop-normal-bwkf-logo.svg" alt="logo">
            </div>

            <div>
                <ul>
                    <li><a href="#">MEN</a></li>
                    <li><a href="#">WOMEN</a></li>
                    <li><a href="#">MOBILE COVERS</a></li>
                </ul>
            </div>

        </div>

        <div class="login-up">


            <div>
                <button><i class="fa-solid fa-magnifying-glass"></i> </button>

                <input type="search" placeholder="Search by product, category or collection">
            </div>
            <div>
                <!-- <a href="siginUp.html">Login</a> -->
                <i class="fa-regular fa-heart"></i>
                <i class="fa-sharp fa-solid fa-lock"></i>
            </div>


        </div>

    </div>
    <hr>


    <!--  form starts from here -->


    <div class="login">


        <h3>Login Up</h3>
        <p>Hi new buddy, let's get you started with the bewakoofi!</p>

        <form>
            <h2>Enter your details</h2>


            <div class="txt_field">
                <input type="email" required id="email">
                <span></span>
                <label for="">Email </label>
            </div>



            <div class="txt_field">
                <input type="password" required id="password">
                <span></span>
                <label for="">Password </label>
            </div>





            <input type="submit" value="Proceed">

            <p>Not a member? <a href="siginUp.html">Sign in</a></p>


        </form>
    </div>
</body>

</html>

<script>
    // let data = JSON.parse(localStorage.getItem("inputData"));
    // document.querySelector('form').addEventListener('submit', loginFxn)
    // let loginData = [];
    // function loginFxn(e) {
    //     e.preventDefault();

    //     var obj = {};

    //     let email = document.querySelector('#email').value;
    //     let password = document.querySelector('#password').value;
    //     // let username = document.querySelector('#name').value


    //     obj.email = email;
    //     obj.password = password;
    //     // obj.username = username;

    //     let present = data.filter(function (e) {
    //         return email == e.email && password == e.password
    //     })

    //     loginData.push(obj);
    //     console.log(data);

    //     localStorage.setItem('loginData', JSON.stringify(loginData))

    //     if (present.length == 0) {
    //         alert("wrong details entered");
    //     }
    //     else {
    //         alert("Login Sucessfully");

    //         window.location.href = 'Navbar.html';
    //     }


    // }


    // new js*****************************************
    let data = JSON.parse(localStorage.getItem("inputData"));
    document.querySelector('form').addEventListener('submit', loginFxn)
    let loginData = [];
    function loginFxn(e) {
        e.preventDefault();



        let email = document.querySelector('#email').value;
        let password = document.querySelector('#password').value;
        // let username = document.querySelector('#name').value
        let present = data.filter(function (e) {
            if (email == e.email && password == e.password) {
                return e;
            }
        })


        console.log(present);

        localStorage.setItem("loginData", JSON.stringify(present))

        if (present.length == 0) {
            alert("Please enter valid credentials!");
        }
        else {
            alert("Login Sucessfully");

            window.location.href = 'index.html';
        }


    }

</script>